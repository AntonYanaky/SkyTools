import{r as b,j as a,H as A,F as C}from"./index-CE1NETXM.js";import{g as j,a as k}from"./auction-D5RLopsM.js";const u={"God Potion":{bits:1500,bazaar:!1},"Kismet Feather":{bits:1350,bazaar:!0,id:"KISMET_FEATHER"},"Kat Flower":{bits:500,bazaar:!1},"Kat Bouquet":{bits:2500,bazaar:!1},"Heat Core":{bits:3e3,bazaar:!1},"Hyper Catalyst Upgrade":{bits:300,bazaar:!1},"Ultimate Carrot Candy Upgrade":{bits:8e3,bazaar:!1},"Colossal Experience Bottle Upgrade":{bits:1200,bazaar:!1},"Jumbo Backpack Upgrade":{bits:4e3,bazaar:!1},"Minion Storage X-pender":{bits:1500,bazaar:!1},"Matriarch's Perfume":{bits:1200,bazaar:!1},Hologram:{bits:2e3,bazaar:!1},"Ditto Blob":{bits:600,bazaar:!1},"Builder's Wand":{bits:12e3,bazaar:!1},"Block Zapper":{bits:5e3,bazaar:!1},"Bits Talisman":{bits:15e3,bazaar:!1},Bitbug:{bits:5e3,bazaar:!0,id:"SHARD_BITBUG"},"Pocket Sack-in-a-Sack":{bits:8e3,bazaar:!1},"Dungeon Sack":{bits:14e3,bazaar:!1},"Rune Sack":{bits:14e3,bazaar:!1},"Flower Sack":{bits:14e3,bazaar:!1},"Dwarvern Sack":{bits:14e3,bazaar:!1},"Crystal Hollows Sack":{bits:14e3,bazaar:!1},Portalizer:{bits:4800,bazaar:!1},"Abiphone Contacts Trio":{bits:6450,bazaar:!1},"Sumsung© G3 Abicase":{bits:15e3,bazaar:!1},"Sumsung© GG Abicase":{bits:25e3,bazaar:!1},"Rezar® Abicase":{bits:26e3,bazaar:!1},"Blue™ but Red Abicase":{bits:17e3,bazaar:!1},"Actually Blue™ Abicase":{bits:17e3,bazaar:!1},"Blue™ but Green Abicase":{bits:17e3,bazaar:!1},"Blue™ but Yellow Abicase":{bits:17e3,bazaar:!1},"Lighter Blue™ Abicase":{bits:17e3,bazaar:!1},"Autopet Rules 2-Pack":{bits:21e3,bazaar:!1},"Pure Black Dye":{bits:25e4,bazaar:!1},"Pure White Dye":{bits:25e4,bazaar:!1},"Inferno Fuel Block":{bits:75,bazaar:!0,id:"INFERNO_FUEL_BLOCK"},"Inferno Fuel Block x64":{bits:56.25,bazaar:!0,id:"INFERNO_FUEL_BLOCK"},"Expertise 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_EXPERTISE_1"},"Compact 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_COMPACT_1"},"Cultivating 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_CULTIVATING_1"},"Absorb 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_ABSORB_1"},"Champion 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_CHAMPION_1"},"Hecatomb 1":{bits:6e3,bazaar:!0,id:"ENCHANTMENT_HECATOMB_1"},"Toxophilite 1":{bits:4e3,bazaar:!0,id:"ENCHANTMENT_TOXOPHILITE_1"},"Speed Enrichment":{bits:5e3,bazaar:!1},"Intelligence Enrichment":{bits:5e3,bazaar:!1},"Critical Damage Enrichment":{bits:5e3,bazaar:!1},"Critical Chance Enrichment":{bits:5e3,bazaar:!1},"Strength Enrichment":{bits:5e3,bazaar:!1},"Defense Enrichment":{bits:5e3,bazaar:!1},"Health Enrichment":{bits:5e3,bazaar:!1},"Magic Find Enrichment":{bits:5e3,bazaar:!1},"Ferocity Enrichment":{bits:5e3,bazaar:!1},"Sea Creature Chance Enrichment":{bits:5e3,bazaar:!1},"Attack Speed Enrichment":{bits:5e3,bazaar:!1},"Accessory Enrichment Swapper":{bits:200,bazaar:!1}},P=(e,o)=>e[o]?.buy_summary?.[0]?.pricePerUnit??null,p=e=>e===null||isNaN(e)?"N/A":e<1e3?e.toLocaleString():e<1e6?`${(e/1e3).toFixed(1)}k`:e<1e9?`${(e/1e6).toFixed(2)}M`:`${(e/1e9).toFixed(2)}B`;function S(){const[e,o]=b.useState(null),[g,h]=b.useState(!0),[z,N]=b.useState(null);b.useEffect(()=>{(async()=>{try{h(!0);const[d,B]=await Promise.all([j(),k()]),x=new Map;for(const[r,s]of d.entries()){const n=r.replace(/’|'/g,"'");for(const i in u){if(u[i].bazaar)continue;const f=i.replace(/’|'/g,"'");if(n.startsWith(f)){const l=x.get(i);(!l||s<l)&&x.set(i,s)}}}const m=Object.entries(u).map(([r,s])=>{let n=null,i=null;if(s.bazaar){const l=s.id||r.toUpperCase().replace(/ /g,"_"),c=P(B,l);n=c,i=r.includes("x64")&&c?c*64:c}else{const l=x.get(r)??null;n=l,i=l}const f=n?n/s.bits:null;return{name:r,bits:s.bits,marketPrice:i,coinsPerBit:f}});m.sort((r,s)=>r.coinsPerBit===null?1:s.coinsPerBit===null?-1:s.coinsPerBit-r.coinsPerBit),o(m)}catch(d){console.error("Failed to fetch SkyBlock data:",d),N("Could not load market data. Please try again later.")}finally{h(!1)}})()},[]);const E=()=>g?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-5 text-center",children:"Loading SkyBlock data..."})}):z?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-5 text-center text-red-500",children:z})}):!e||e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-4 py-5 text-center",children:"No item data available."})}):e.map(t=>a.jsxs("tr",{className:"border-t border-[#f38a32] dark:border-[#FDE9D8]",children:[a.jsx("td",{className:"w-2/5 lg:w-1/3 px-2 lg:px-4 py-5 break-words",children:t.name}),a.jsxs("td",{className:"w-1/5 lg:w-1/6 px-2 lg:px-4 py-5 text-center",children:[a.jsx("span",{className:"lg:hidden",children:p(t.bits)}),a.jsx("span",{className:"hidden lg:inline",children:t.bits.toLocaleString()})]}),a.jsxs("td",{className:"w-1/5 lg:w-1/6 px-2 lg:px-4 py-5 text-center",children:[a.jsx("span",{className:"lg:hidden",children:p(t.coinsPerBit?Math.round(t.coinsPerBit):null)}),a.jsx("span",{className:"hidden lg:inline",children:t.coinsPerBit?Math.round(t.coinsPerBit).toLocaleString():"N/A"})]}),a.jsxs("td",{className:"w-1/5 lg:w-1/3 px-2 lg:px-4 py-5 text-center",children:[a.jsx("span",{className:"lg:hidden",children:p(t.marketPrice)}),a.jsx("span",{className:"hidden lg:inline",children:t.marketPrice?.toLocaleString()??"N/A"})]})]},t.name));return a.jsx("div",{className:"mt-8 bg-[#FDE9D8] dark:bg-[#602E06] rounded-md",children:a.jsxs("table",{className:"w-full text-left table-fixed",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"w-2/5 lg:w-1/3 px-2 lg:px-4 py-3",children:"Item"}),a.jsx("th",{className:"w-1/5 lg:w-1/6 px-2 lg:px-4 py-3 text-center",children:"Bits"}),a.jsx("th",{className:"w-1/5 lg:w-1/6 px-2 lg:px-4 py-3 text-center",children:"C/Bit"}),a.jsx("th",{className:"w-1/5 lg:w-1/3 px-2 lg:px-4 py-3 text-center",children:"Coins"})]})}),a.jsx("tbody",{children:E()})]})})}function w(){return a.jsxs("div",{className:"min-h-screen flex flex-col px-6 lg:px-12 bg-white dark:bg-black text-black dark:text-white",children:[a.jsx(A,{}),a.jsxs("main",{className:"flex-grow flex flex-col lg:mt-8",children:[a.jsx("h1",{className:"text-4xl text-center font-semibold",children:"Bit Shop"}),a.jsx(S,{})]}),a.jsx(C,{})]})}export{w as default};
